<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kalkulator IP</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #000;
  color: #fff;
  padding: 20px;
}

.container {
  max-width: 700px;
  background: #111;
  margin: auto;
  padding: 20px;
  border-radius: 8px;
}

.input-row {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

input, select, button {
  padding: 8px;
  font-size: 14px;
  background: #222;
  color: #fff;
  border: 1px solid #555;
}

input::placeholder {
  color: #bbb;
}

button {
  cursor: pointer;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border: 1px solid #555;
  padding: 8px;
  text-align: center;
}

th {
  background: #222;
}

.remove-btn {
  background: #d9534f;
  color: white;
  border: none;
  padding: 4px 6px;
  cursor: pointer;
}

.results {
  margin-top: 15px;
  display: flex;
  justify-content: space-between;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">
  <h2>Kalkulator IP</h2>

  <div class="input-row">
    <input id="courseName" placeholder="Mata Kuliah">
    <input id="credits" type="number" placeholder="SKS" min="0.1" step="0.1">
    <select id="grade">
      <option>A</option>
      <option>AB</option>
      <option>B</option>
      <option>BC</option>
      <option>C</option>
      <option>D</option>
      <option>E</option>
    </select>
    <button onclick="addCourse()">Tambah Mata Kuliah</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>Mata Kuliah</th>
        <th>SKS</th>
        <th>Nilai</th>
        <th></th>
      </tr>
    </thead>
    <tbody id="courseTable"></tbody>
  </table>

  <div class="results">
    <div id="totalCredits">Total SKS: 0</div>
    <div id="gpa">IP: --</div>
  </div>
</div>

<script>
var GRADE_VALUES = {A:4, AB:3.5, B:3, BC:2.5, C:2, D:1, E:0};
var courses = [];

function addCourse() {
  var name = document.getElementById("courseName").value.trim();
  var credits = parseFloat(document.getElementById("credits").value);
  var grade = document.getElementById("grade").value;

  if (!name) {
    alert("Nama mata kuliah tidak boleh kosong.");
    return;
  }

  if (isNaN(credits) || credits <= 0) {
    alert("SKS harus berupa angka dan lebih dari 0.");
    return;
  }

  courses.push({name:name, credits:credits, grade:grade});
  document.getElementById("courseName").value = "";
  document.getElementById("credits").value = "";
  render();
}

function removeCourse(index) {
  courses.splice(index, 1);
  render();
}

function render() {
  var table = document.getElementById("courseTable");
  table.innerHTML = "";

  var totalCredits = 0;
  var totalWeighted = 0;

  for (var i = 0; i < courses.length; i++) {
    var c = courses[i];
    totalCredits += c.credits;
    totalWeighted += c.credits * GRADE_VALUES[c.grade];

    var row = document.createElement("tr");

    row.innerHTML =
      "<td>" + c.name + "</td>" +
      "<td>" + c.credits + "</td>" +
      "<td>" + c.grade + "</td>" +
      "<td><button class='remove-btn' onclick='removeCourse(" + i + ")'>X</button></td>";

    table.appendChild(row);
  }

  document.getElementById("totalCredits").textContent =
    "Total SKS: " + totalCredits;

  document.getElementById("gpa").textContent =
    totalCredits === 0
      ? "IP: --"
      : "IP: " + (totalWeighted / totalCredits).toFixed(2);
}
</script>
</body>
</html>
